jQuery.fn.compare=function(g){if(this.length!=g.length){return false;}var a=this.sort(),b=g.sort();for(var h=0;g[h];h++){if(a[h]!==b[h]){return false;}}return true;};$(function(){count=150;countdown=setInterval(function(){$("#score_right_timer p").html(count+"  seconds remaining");if(count==0){showForm("#demo_frame","#timesUp_form");return false;}count--;},1000);});function arrayLength(a){while(a.length<=4){return true;}}function showForm(a,b){$(a).replaceWith($(b));$(b).removeClass("hidden");}function resetGame(f,e,h,g){++reset;$(f).load(e);$(h).empty();g.length=0;}function compareAnswers(g,f,j,i,h){if($(g).compare(f)==true){clearInterval(countdown);timeTaken=(150-count);++attempt;user_data.push(timeTaken);attempts.push(attempt);resets.push(reset);showForm("#demo_frame","#exercise_form");d3_charts(".user_barchart",".user_y_axis",".prepcloud_barchart",".prepcloud_y_axis",data,y_data,user_data);d3_charts(".user_barchart2",".user_y_axis2",".prepcloud_barchart2",".prepcloud_y_axis2",ave_attempts,y_data,attempts);d3_charts(".user_barchart3",".user_y_axis3",".prepcloud_barchart3",".prepcloud_y_axis3",ave_resets,y_data,resets);}else{alert("Incorrect, please try again");resetGame(j,i,h,g);++attempt;}}var allboxes1=["L1","M2","J3","N4","K5"];var boxes=[];$(function(){$(".draggable").draggable({start:function(d,c){$(this);littlebox=$(this).attr("id");}});$(".droppable").droppable({drop:function(d,c){$(this).css("background-color","#273677");bigbox=$(this).attr("id");if(arrayLength(boxes)==true){$("#score_right").append("<p>"+(littlebox)+(bigbox)+"</p>");boxes.push((littlebox)+(bigbox));}}});});$(document).ready(function(){$(".boxgrid.slideright").hover(function(){$(".cover",this).stop().animate({left:"325px"},{queue:false,duration:700});},function(){$(".cover",this).stop().animate({left:"0px"},{queue:false,duration:700});});$(".boxgrid.slideright p").empty();$(".boxgrid.slideright p").html("L and M are next to each other");});$(function(){$("#dialog-message").dialog({modal:true});});$(function(){$("#progressbar").progressbar({value:5});});user_data=[];reset=0;resets=[];attempt=0;attempts=[];data=[83];ave_attempts=[3];ave_resets=[3];y_data=[1];function d3_charts(g,z,A,h,y,x,B){var C=d3.scale.linear().domain([0,d3.max(y)]).range([0,420]);var D=d3.scale.linear().domain([0,d3.max(B)]).range([0,420]);var f=d3.scale.ordinal().domain(y).rangeBands([0,120]);var c=d3.scale.ordinal().domain(B).rangeBands([0,120]);var e=d3.select(g).append("svg:svg").attr("class","chart").attr("width",440).attr("height",140).append("svg:g").attr("transform","translate(10,15)");var d=d3.select(z).append("svg:svg").attr("class","chart2").attr("width",440).attr("height",140).append("svg:g").attr("transform","translate(10,15)");var b=d3.select(A).append("svg:svg").attr("class","chart2").attr("width",440).attr("height",140).append("svg:g").attr("transform","translate(10,15)");var a=d3.select(h).append("svg:svg").attr("class","chart2").attr("width",440).attr("height",140).append("svg:g").attr("transform","translate(10,15)");e.selectAll("line").data(C.ticks(10)).enter().append("svg:line").attr("x1",C).attr("x2",C).attr("y1",0).attr("y2",120).attr("stroke","#ccc");e.selectAll("text.rule").data(C.ticks(10)).enter().append("svg:text").attr("x",C).attr("y",0).attr("dy",-3).attr("text-anchor","middle").text(String);e.selectAll("rect").data(y).enter().append("svg:rect").attr("y",f).attr("width",C).attr("height",f.rangeBand());b.selectAll("line").data(D.ticks(10)).enter().append("svg:line").attr("x1",D).attr("x2",D).attr("y1",0).attr("y2",120).attr("stroke","#ccc");b.selectAll("text.rule").data(D.ticks(10)).enter().append("svg:text").attr("x",D).attr("y",0).attr("dy",-3).attr("text-anchor","middle").text(String);b.selectAll("rect").data(B).enter().append("svg:rect").attr("y",c).attr("width",D).attr("height",c.rangeBand());e.selectAll("text.bar").data(y).enter().append("svg:text").attr("class","bar").attr("x",C).attr("y",function(i){return f(i)+f.rangeBand()/2;}).attr("dx",-3).attr("dy",".35em").attr("font-size","2.0em").attr("text-anchor","end").text(String);d.selectAll("text.bar").data(x).enter().append("svg:text").attr("class","bar").attr("x",0).attr("y",function(i){return c(i)+c.rangeBand()/2;}).attr("dx",-3).attr("dy",".35em").attr("font-size","1.5em").attr("text-anchor","end").text(String);b.selectAll("text.bar").data(B).enter().append("svg:text").attr("class","bar").attr("x",D).attr("y",function(i){return c(i)+c.rangeBand()/2;}).attr("dx",-3).attr("dy",".35em").attr("font-size","2.0em").attr("text-anchor","end").text(String);a.selectAll("text.bar").data(x).enter().append("svg:text").attr("class","bar").attr("x",0).attr("y",function(i){return c(i)+c.rangeBand()/2;}).attr("dx",-3).attr("dy",".35em").attr("font-size","1.5em").attr("text-anchor","end").text(String);e.append("line").attr("y1",0).attr("y2",120).style("stroke","#000");b.append("line").attr("y1",0).attr("y2",120).style("stroke","#000");}
